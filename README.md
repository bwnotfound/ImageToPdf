# 照片批量转pdf助手

## 介绍

用于批量的将照片转换成规范大小(默认是a4大小)的pdf文件，同时还会依据照片的文件夹结构来生成对应的标签。

## 使用方法

首先需要下载release中的exe文件。或者可以clone该库，使用pip安装对应依赖包来部署(python版本3.9)。
```
pip install -r requirements.txt
```
如果是下载的exe文件，那么需要把exe文件放入一个文件夹(下文以"根目录"来指代)中。在根目录里面创建文件夹"工作区"，然后往根目录里面移入你需要批量转换为pdf的图片文件夹。如果你是部署的，那么在创建完文件夹"工作区"后运行work.py即可。输出存放在文件夹"输出"里面。

## 转换规则

转换时一定要注意排序的问题。

在"工作区"文件夹中，只允许存在文件夹。"工作区"文件夹中的每一个文件夹(下文以源文件夹指代)都会转换为相应的一个pdf文件。转换时，程序会递归地从源文件夹中读取文件。图片在pdf文件的顺序取决于图片的名字在windows中的排序，所以建议图片以数字命名。事实上，源文件夹中的单个图片对应pdf的一页，而存放图片的文件夹会为该文件夹里的图片创建一个目录标签。

转换示例如下：
```
工作区          
├─第1卷             
│   ├─第01话        
│   │    ├─1.jpg    
│   │    └─2.jpg    
│   └─第02话        
│        ├─01.jpg   
│        └─2.jpg
└─第2卷             
    ├─第03话        
    │    ├─1.jpg    
    │    └─2.jpg    
    └─第04话        
         ├─1.jpg    
         └─2.jpg    
```
转换为
```
输出
├─第1卷.pdf
│   ├─第01话
│   └─第02话  
└─第2卷.pdf
    ├─第03话
    └─第04话 
```

通常情况下，如果文件命名良好，是不需要修改就能直接转换的，然而，由于windows的排序问题，有时顺序会紊乱，例如11.jpg排在了2.jpg的前面(这里只是举例，实际上程序中以数字开头的文件会使用数字大小排序而非字符串大小排序)，更典型的是"第一话"和"第二话"这样使用中文来命名的，很容易发生混乱。同时，如果直接把所有文件改成数字命名，又会舍弃掉标签的易读性，所以我提供了一种方法：将例如"第一话"改名为"1#第一话"或是"01#第一话"，这样的话排序是依据"#"前面的数字，同时标签只会录入"#"之后的字符串。需要注意的是，如果采用了这种命名方法，那么与之同级的所有文件都需要这样命名，否则依旧会按照windows默认的排序(当然部分命名对应的标签也会是"#"之后的字符串，可以考虑部分命名来微调)

## 杂项

随便做的小工具，如果有额外需要的，欢迎在issue里面留言或者pr，看到后会酌情添加。有bug的请在issue中反映
